{"version":3,"file":"js/337.57101e03.js","mappings":"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","sources":["webpack://iristravel/./src/views/Admin.vue?d5cc","webpack://iristravel/src/views/Admin.vue","webpack://iristravel/./src/views/Admin.vue?2e5e","webpack://iristravel/./src/views/Admin.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('Header',{staticClass:\"py-4\"}),_c('div',{staticClass:\"container-fluid flex flex-col gap-6 py-6 px-2 md:flex-row\"},[_c('sidebar',{staticClass:\"md:w-1/4 border shadow\",on:{\"setNavBar\":_vm.updRightConten,\"crudStatus\":_vm.updCrud}}),_c('div',{staticClass:\"flex flex-1 flex-col w-full border shadow rounded-lg bg-white text-left py-4 p-8\"},[_c('div',{staticClass:\"grid grid-cols-admin h-10 border-b-2 mb-2\"},[_c('h2',{staticClass:\"text-2xl \"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"flex\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.crudvisible),expression:\"crudvisible\"}],staticClass:\"w-full text-center\",on:{\"click\":_vm.showTable}},[_c('i',{staticClass:\"fa fa-arrow-left\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.crudvisible),expression:\"!crudvisible\"}],staticClass:\"w-full text-center\",on:{\"click\":_vm.refreshTable}},[_c('i',{staticClass:\"fas fa-sync text-green-400\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.crudvisible),expression:\"!crudvisible\"}],staticClass:\"w-full text-center\",on:{\"click\":_vm.createRow}},[_c('i',{staticClass:\"fa fa-plus text-green-400\"})])])]),(!_vm.crudvisible)?_c('admin-table',{attrs:{\"actions\":{show: true,edit: true,delete: true},\"deleteCols\":[],\"rows\":_vm.localData},on:{\"editData\":_vm.editRow,\"deleteData\":_vm.deleteRow}}):_vm._e(),(_vm.crudvisible)?_c('dashboard',{attrs:{\"menu\":_vm.activeMenu,\"modeAction\":_vm.mode,\"objId\":_vm.formInfo}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section>\r\n    <Header class=\"py-4\"></Header>\r\n    <div class=\"container-fluid flex flex-col gap-6 py-6 px-2 md:flex-row\">        \r\n        <sidebar class=\"md:w-1/4 border shadow\" v-on:setNavBar=\"updRightConten\" v-on:crudStatus=\"updCrud\"></sidebar>\r\n\r\n        <div class=\"flex flex-1 flex-col w-full border shadow rounded-lg bg-white text-left py-4 p-8\">          \r\n          <div class=\"grid grid-cols-admin h-10 border-b-2 mb-2\"> \r\n            <h2 class=\"text-2xl \">{{title}}</h2>\r\n            <div class=\"flex\">\r\n               <button class=\"w-full text-center\" v-show=\"crudvisible\"  @click=\"showTable\" ><i class=\"fa fa-arrow-left\"></i></button>\r\n               <button class=\"w-full text-center\" v-show=\"!crudvisible\" @click=\"refreshTable\"><i class=\"fas fa-sync text-green-400\"></i></button>\r\n               <button class=\"w-full text-center\" v-show=\"!crudvisible\" @click=\"createRow\"><i class=\"fa fa-plus text-green-400\"></i></button>\r\n            </div>\r\n         </div>\r\n          <!-- Table -->\r\n          <admin-table :actions=\"{show: true,edit: true,delete: true}\" :deleteCols=\"[]\" :rows=\"localData\" v-on:editData=\"editRow\" v-on:deleteData=\"deleteRow\" v-if=\"!crudvisible\"></admin-table>          \r\n          <!-- Load Cruds Form -->\r\n          <dashboard v-if=\"crudvisible\" :menu=\"activeMenu\" :modeAction=\"mode\" :objId=\"formInfo\"></dashboard>\r\n        </div>\r\n    </div>\r\n  </section>  \r\n</template>\r\n\r\n<script>\r\nimport Header from \"@/components/Header.vue\";\r\nimport AdminTable from '@/components/Admin/AdminTable';\r\nimport '@/assets/css/table.css'\r\n\r\n// External services\r\nimport Authorization from \"@/services/user/auth.service\";\r\nimport Services from \"@/services/index\";\r\n\r\n// Component\r\nimport Sidebar from '@/components/Admin/Sidebar.vue';\r\n// Dashboard\r\nimport Dashboard from \"@/views/Admin/Dashboard.vue\";\r\n\r\nexport default {\r\n  name: \"Admin\",  \r\n  components: {\r\n    Header,\r\n    Sidebar,   \r\n    AdminTable, \r\n    Dashboard,\r\n  },\r\n  data() {\r\n    return {      \r\n      title: '',\r\n      mode: 'create',\r\n      errMsg: '',\r\n      formInfo: 0,      \r\n      localData: [\r\n        {\r\n            name: 'Melia Varadero1',\r\n            email: 'meliavaradero@melia.com',\r\n            agent: 'Melia-Varadero',\r\n        }\r\n      ], \r\n      crudvisible: false,      \r\n      activeMenu: 'client',\r\n      isLogged: false\r\n    }\r\n  },\r\n  created() {\r\n    // Validar si el usuario esta logueado\r\n    this.title = (Authorization.validateRole(['ROLE_Agency', 'ROLE_Admin'])) ? 'Usuarios' : (Authorization.validateRole(['ROLE_Comercial'])) ? 'Polos' : 'Usuarios'\r\n    this.isLogged = Authorization.isClientLogged()\r\n    this.activeMenu = (this.$route.params.CrudKey == undefined) ? 'client' : this.$route.params.CrudKey\r\n    this.initCrud(this.activeMenu)\r\n  },\r\n  methods: {\r\n    initCrud(param) {\r\n      // Get List of the table      \r\n      Services.init(param).then(d => {\r\n        if('errors' in d) {\r\n          console.log(d.errors)\r\n        } else \r\n          this.localData = d\r\n      })\r\n    },\r\n    updRightConten(text, view, items) {\r\n      this.title = text\r\n      this.activeMenu = view\r\n\r\n      // Draw table data\r\n      this.localData = (items) ? items : []    \r\n    },    \r\n    createRow() {\r\n      \r\n      // No muestro el formulario de editar en caso de booking\r\n      if(this.$route.params.CrudKey !== 'booking')\r\n      {\r\n        this.mode = 'create'\r\n        this.crudvisible = !this.crudvisible\r\n      }\r\n\r\n}, \r\n    editRow(rowData) {\r\n      // Showing Form     \r\n      this.crudvisible = !this.crudvisible          \r\n      this.mode = 'update'          \r\n      this.formInfo = rowData.id\r\n    },\r\n    deleteRow(ids) {            \r\n      Services.delete(this.activeMenu, ids).then(d => {\r\n        this.localData = d\r\n      })\r\n    },\r\n    refreshTable() {\r\n      Services.init(this.activeMenu).then(d => {\r\n          this.localData = d\r\n      })\r\n    },\r\n    showTable() {      \r\n      this.crudvisible = !this.crudvisible\r\n    },\r\n    updCrud() {\r\n      this.mode = 'create'\r\n      this.crudvisible = false\r\n    }\r\n  },\r\n  \r\n};\r\n</script>\r\n\r\n<style scoped>\r\nsection {\r\n  min-height: 1000px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=48ac958a&scoped=true\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\nimport style0 from \"./Admin.vue?vue&type=style&index=0&id=48ac958a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48ac958a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","updRightConten","updCrud","_v","_s","title","directives","name","rawName","value","expression","showTable","crudvisible","refreshTable","createRow","_e","attrs","show","edit","delete","localData","editRow","deleteRow","activeMenu","mode","formInfo","staticRenderFns","components","Header","Sidebar","AdminTable","Dashboard","data","errMsg","email","agent","isLogged","created","Authorization","validateRole","isClientLogged","undefined","$route","params","CrudKey","initCrud","methods","param","Services","init","then","d","console","log","errors","text","view","items","rowData","id","ids","component"],"sourceRoot":""}