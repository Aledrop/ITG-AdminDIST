"use strict";(self["webpackChunkiristravel"]=self["webpackChunkiristravel"]||[]).push([[918],{5918:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("Header",{staticClass:"py-4"}),a("div",{staticClass:"container-fluid flex flex-col gap-6 py-6 px-2 md:flex-row"},[a("sidebar",{staticClass:"md:w-1/4 border shadow",on:{setNavBar:e.updRightConten,crudStatus:e.updCrud}}),a("div",{staticClass:"flex flex-1 flex-col w-full border shadow rounded-lg bg-white text-left py-4 p-8"},[a("div",{staticClass:"grid grid-cols-admin h-10 border-b-2 mb-2"},[a("h2",{staticClass:"text-2xl "},[e._v(e._s(e.title))]),a("div",{staticClass:"flex"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.crudvisible,expression:"crudvisible"}],staticClass:"w-full text-center",on:{click:e.showTable}},[a("i",{staticClass:"fa fa-arrow-left"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.crudvisible,expression:"!crudvisible"}],staticClass:"w-full text-center",on:{click:e.refreshTable}},[a("i",{staticClass:"fas fa-sync text-green-400"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.crudvisible&&!e.notCreate,expression:"!crudvisible && !notCreate"}],staticClass:"w-full text-center",on:{click:e.createRow}},[a("i",{staticClass:"fa fa-plus text-green-400"})])])]),e.crudvisible?e._e():a("admin-table",{attrs:{actions:{show:!0,edit:!0,delete:!0},deleteCols:[],rows:e.localData},on:{editData:e.editRow,deleteData:e.deleteRow}}),e.crudvisible?a("dashboard",{attrs:{menu:e.activeMenu,modeAction:e.mode,objId:e.formInfo}}):e._e()],1)],1)],1)},s=[],r=a(3150),l=a(346),o=a(4944),d=a(4159),c=a(8791),n=a(1269),u={name:"Admin",components:{Header:r.Z,Sidebar:c.Z,AdminTable:l.Z,Dashboard:n.Z},data(){return{title:"",mode:"create",errMsg:"",formInfo:0,localData:[{name:"Melia Varadero1",email:"meliavaradero@melia.com",agent:"Melia-Varadero"}],crudvisible:!1,notCreate:!1,activeMenu:"client",isLogged:!1}},created(){this.title=o.Z.validateRole(["ROLE_Agency","ROLE_Admin"])?"Usuarios":o.Z.validateRole(["ROLE_Comercial"])?"Polos":"Usuarios",this.isLogged=o.Z.isClientLogged(),this.activeMenu=void 0==this.$route.params.CrudKey?"client":this.$route.params.CrudKey,this.initCrud(this.activeMenu)},methods:{initCrud(e){d.Z.init(e).then((e=>{"errors"in e?console.log(e.errors):this.localData=e})),this.notCreate="marketplace_order"===this.$route.params.CrudKey||"marketplace_client"===this.$route.params.CrudKey,this.crudvisible=!1},updRightConten(e,t,a){this.title=e,this.activeMenu=t,this.localData=a||[]},createRow(){"booking"!==this.$route.params.CrudKey&&(this.mode="create",this.crudvisible=!this.crudvisible,this.notCreate=!this.notCreate)},editRow(e){this.crudvisible=!this.crudvisible,this.notCreate="marketplace_order"===this.$route.params.CrudKey||"marketplace_client"===this.$route.params.CrudKey,this.mode="update",this.formInfo=e.id},deleteRow(e){d.Z.delete(this.activeMenu,e).then((e=>{this.localData=e}))},refreshTable(){d.Z.init(this.activeMenu).then((e=>{this.localData=e}))},showTable(){this.crudvisible=!this.crudvisible,this.notCreate="marketplace_order"===this.$route.params.CrudKey||"marketplace_client"===this.$route.params.CrudKey},updCrud(){this.mode="create",this.crudvisible=!1,this.notCreate="marketplace_order"===this.$route.params.CrudKey||"marketplace_client"===this.$route.params.CrudKey}}},h=u,m=a(1001),v=(0,m.Z)(h,i,s,!1,null,"502eb04b",null),C=v.exports}}]);
//# sourceMappingURL=918.1d14ec4c.js.map